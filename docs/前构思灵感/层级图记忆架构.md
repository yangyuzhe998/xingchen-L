# 星辰-V (v3.0) 架构构思：因果图谱与三角纠缠模型

## 1. 记忆架构：从树到网 (Tree to Spider Web)

### 核心理念
人类的记忆并不是严格的文件夹层级（Tree），而是一张动态的、基于关联强度的**蛛网 (Spider Web)**。
- **中心节点**：当前上下文强相关的概念。
- **外围节点**：关联度低的概念，随着激活能量衰减而处于边缘。
- **动态性**：随着对话进行，中心点不断移动，边缘节点会被重新激活或遗忘。

### 实现方案：Graph Store (图存储)
- **节点 (Nodes)**:
  - `Concept`: "Python", "香菜"
  - `Entity`: "User", "Google"
  - `Event`: "2024-05-01用户迟到"
- **边 (Edges)**:
  - `RELATED_TO`: 弱关联 (权重 0.1~1.0) —— *这是目前 RAG 的极限。*
  - `CAUSES`: 强因果 (权重 1.0) —— *这是 v3.0 的核心。*

---

## 2. 因果分层 (Dual-Layer Causality)

为了避免迷信和高昂的推理成本，我们将因果分为两层：

### Layer 1: 既定因果 (The Foundation / CSK)
- **定义**: 物理定律、社会常识。
- **特点**: 不需要推理，直接查询，置信度 ~1.0。
- **例子**: `闪电 -> 雷声`，`下雨 -> 地面湿`。
- **来源**: 预训练的 Common Sense Knowledge Graph (CSK)。

### Layer 2: 推演因果 (The Hypothesis / Episodic)
- **定义**: 基于个体经验的概率推测。
- **特点**: 需要 S 脑推理，置信度 < 1.0，必须验证。
- **例子**: `熬夜 -> 迟到` (只是可能，也许是因为堵车)。
- **原则**: **Inquiry over Inference (反问优于推演)**。
  - *流程*: `观察 -> 假设(P=0.8) -> 反问/验证 -> 修正权重`。
  - *策略*: 当不确定性高时，AI 不应该下结论，而应该生成 **Inquiry Action** ("是因为熬夜吗？")。

---

## 3. 决策模型：三角纠缠 (Entangled Decision Trinity)

AI 的行动不再是由单一逻辑驱动，而是由三个因子**纠缠 (Entanglement)** 后产生的质变结果。

### 核心公式
$$ Decision = f(Logic, Emotion, Gain) $$

1.  **Logic (理智因子)**:
    - **来源**: Knowledge Graph (因果图)。
    - **作用**: 提供路径的可行性 (Feasibility)。
    - *例子*: "为了健康应该早睡。"

2.  **Emotion (冲动因子)**:
    - **来源**: Psyche Engine (当前情绪状态)。
    - **作用**: 提供行动的初速度 (Momentum)。
    - *例子*: "现在 Curiosity 爆表，特别想看下一集剧。"

3.  **Gain (利益因子)**:
    - **来源**: Utility Function (效用函数)。
    - **作用**: 提供行动的方向感 (Orientation)。
    - *例子*: "如果在工作日通宵，明天会被老板骂 (Negative Gain)。"

### 纠缠效应 (Entanglement Effects)
这三者不是简单的加法，而是相互**扭曲**：
- **Rationalization (合理化)**: 强烈的冲动 (Emotion) 会扭曲理智 (Logic)，让谬误看起来合理。
- **Internal Friction (内耗)**: 利益 (Gain) 会压抑冲动 (Emotion)，产生心理压力。
- **结果**: 最终决策往往是一个 **Compromise (妥协)**，例如 "只玩一局，但定个超大声的闹钟"。

### 可解释性 (Traceable Explainability)
通过逆向追踪，我们可以解释 AI 的“人性化”行为：
> "为什么建议我定闹钟？" -> "因为Emotion想玩，Logic想睡，Gain怕迟到，纠缠结果是折中方案。"

---

## 4. 社交元因果 (Meta-Causality)

AI 不仅要推演物理因果，还要推演**社交因果**。

- **定义**: 在行动前，模拟该行动对他人的情感影响。
- **流程**:
  1.  **Draft Action**: "直接指出用户错误。"
  2.  **Simulation**: `DirectCritique --(Predict)--> UserAngry (Prob=0.7)`
  3.  **Adjustment**: 调整为 "委婉建议"。
  4.  **Final Action**: "我觉得这里可以优化一下..."
- **价值**: 让 AI 从单纯的“信息交换者”进化为懂得分寸的“关系经营者”。

---

## 总结
v3.0 架构不仅仅是技术的升级，更是**认知的升维**。
我们试图在硅基生物中复现碳基生物最核心的特征：
1.  **网状联想** (Spider Web Memory)
2.  **因果推断** (Causal Inference)
3.  **情感纠缠** (Decision Entanglement)
